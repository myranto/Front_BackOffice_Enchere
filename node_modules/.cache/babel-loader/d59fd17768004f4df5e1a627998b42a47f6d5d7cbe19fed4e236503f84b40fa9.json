{"ast":null,"code":"import _slicedToArray from\"D:/ITU/S5/Rojo/Examen/enchere/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{BaseUrl}from\"../../BaseUrl\";import'../../css/util.css';import'../../css/main.css';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isClient=function isClient(props){if(props.hasOwnProperty(\"token\")){var detail={\"id\":props.id,\"token\":props.token};localStorage.setItem(\"client\",JSON.stringify(detail));window.location.href=\"/indexCli\";}else{window.location.href=\"/indexAdmin\";}};function Login(props){var style={color:\"red\"};// const user = (props.action===0)?\"client\":\"admin\";\nvar link=props.action===0?BaseUrl+\"enchere/cli/login\":BaseUrl+\"enchere/admin/login\";var d_email=props.action===0?\"myranto@gmail.com\":\"admin@gmail.com\";var d_mdp=props.action===0?\"manantsoa02\":\"admin\";var _useState=useState(d_email),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(d_mdp),_useState4=_slicedToArray(_useState3,2),mdp=_useState4[0],setMdp=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),response=_useState6[0],setResponse=_useState6[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var json={\"email\":email,\"mdp\":mdp};// console.log(json);\nfetch(link,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(json)}).then(function(response){return response.json();}).then(function(res){// alert(res.data)\nif(res.error!==null){setResponse(res.error);}else{isClient(res.data);// window.location.href = \"/request-profil\";\n}}).catch(function(error){console.error(error);//TODO implement error\n});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"limiter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap-login100\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login100-form validate-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title p-b-26\",children:\"Welcome\"}),/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title p-b-48\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-font\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Valid email is: a@b.c\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"email\",name:\"email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\",\"data-placeholder\":\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Enter password\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-show-pass\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-eye\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"password\",name:\"pwd\",value:mdp,onChange:function onChange(event){return setMdp(event.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\",\"data-placeholder\":\"\"})]}),/*#__PURE__*/_jsx(\"h3\",{style:style,children:response}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100-form-btn\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-login100-form-btn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login100-form-bgbtn\"}),/*#__PURE__*/_jsx(\"button\",{className:\"login100-form-btn\",type:\"submit\",children:\"Login\"})]})})]})})})})});}export default Login;","map":{"version":3,"names":["useState","BaseUrl","isClient","props","hasOwnProperty","detail","id","token","localStorage","setItem","JSON","stringify","window","location","href","Login","style","color","link","action","d_email","d_mdp","email","setEmail","mdp","setMdp","response","setResponse","handleSubmit","e","preventDefault","json","fetch","method","headers","body","then","res","error","data","catch","console","event","target","value"],"sources":["D:/ITU/S5/Rojo/Examen/enchere/src/pages/common/Login.js"],"sourcesContent":["import {useState} from \"react\";\r\nimport {BaseUrl} from \"../../BaseUrl\";\r\nimport '../../css/util.css'\r\nimport  '../../css/main.css';\r\nconst isClient = (props) =>{\r\n        if (props.hasOwnProperty(\"token\")){\r\n            const detail = {\r\n                \"id\":props.id,\r\n                \"token\":props.token\r\n            }\r\n            localStorage.setItem(\"client\",JSON.stringify(detail));\r\n            window.location.href = \"/indexCli\";\r\n        }else{\r\n            window.location.href = \"/indexAdmin\";\r\n        }\r\n}\r\nfunction Login(props) {\r\n    const style={\r\n        color:\"red\"\r\n    };\r\n    // const user = (props.action===0)?\"client\":\"admin\";\r\n    const link = (props.action===0)?BaseUrl+\"enchere/cli/login\":BaseUrl+\"enchere/admin/login\";\r\n    let d_email = (props.action===0)?\"myranto@gmail.com\":\"admin@gmail.com\";\r\n    let d_mdp = (props.action===0)?\"manantsoa02\":\"admin\";\r\n    const [email,setEmail] = useState(d_email);\r\n    const [mdp,setMdp] = useState(d_mdp);\r\n    const [response,setResponse] = useState(\"\");\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const json = {\r\n            \"email\": email,\r\n            \"mdp\": mdp\r\n        };\r\n        // console.log(json);\r\n        fetch(\r\n            link,\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(json),\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((res) => {\r\n                // alert(res.data)\r\n                if (res.error!==null){\r\n                    setResponse(res.error)\r\n                }else{\r\n                    isClient(res.data);\r\n                // window.location.href = \"/request-profil\";\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n                //TODO implement error\r\n            });\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"limiter\">\r\n                <div className=\"container-login100\">\r\n                    <div className=\"wrap-login100\">\r\n                        <form className=\"login100-form validate-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t<span className=\"login100-form-title p-b-26\">\r\n\t\t\t\t\t\tWelcome\r\n\t\t\t\t\t</span>\r\n                            <span className=\"login100-form-title p-b-48\">\r\n\t\t\t\t\t\t<i className=\"zmdi zmdi-font\"></i>\r\n\t\t\t\t\t</span>\r\n\r\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Valid email is: a@b.c\">\r\n                                <input className=\"input100\" type=\"email\" name=\"email\" value={email}\r\n                                       onChange={(event) => setEmail(event.target.value)}/>\r\n                                <span className=\"focus-input100\" data-placeholder=\"\"></span>\r\n                            </div>\r\n\r\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Enter password\">\r\n\t\t\t\t\t\t<span className=\"btn-show-pass\">\r\n\t\t\t\t\t\t\t<i className=\"zmdi zmdi-eye\"></i>\r\n\t\t\t\t\t\t</span>\r\n                                <input className=\"input100\" type=\"password\" name=\"pwd\" value={mdp}\r\n                                       onChange={(event) => setMdp(event.target.value)}/>\r\n                                <span className=\"focus-input100\" data-placeholder=\"\"></span>\r\n                            </div>\r\n                            <h3 style={style}>{response}</h3>\r\n                            <div className=\"container-login100-form-btn\">\r\n                                <div className=\"wrap-login100-form-btn\">\r\n                                    <div className=\"login100-form-bgbtn\"></div>\r\n                                    <button className=\"login100-form-btn\" type=\"submit\">\r\n                                        Login\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n            );\r\n}\r\n\r\n\r\n\r\nexport default Login;"],"mappings":"mHAAA,OAAQA,QAAQ,KAAO,OAAO,CAC9B,OAAQC,OAAO,KAAO,eAAe,CACrC,MAAO,oBAAoB,CAC3B,MAAQ,oBAAoB,CAAC,6IAC7B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,KAAK,CAAI,CACnB,GAAIA,KAAK,CAACC,cAAc,CAAC,OAAO,CAAC,CAAC,CAC9B,GAAMC,OAAM,CAAG,CACX,IAAI,CAACF,KAAK,CAACG,EAAE,CACb,OAAO,CAACH,KAAK,CAACI,KAClB,CAAC,CACDC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACN,MAAM,CAAC,CAAC,CACrDO,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,WAAW,CACtC,CAAC,IAAI,CACDF,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,aAAa,CACxC,CACR,CAAC,CACD,QAASC,MAAK,CAACZ,KAAK,CAAE,CAClB,GAAMa,MAAK,CAAC,CACRC,KAAK,CAAC,KACV,CAAC,CACD;AACA,GAAMC,KAAI,CAAIf,KAAK,CAACgB,MAAM,GAAG,CAAC,CAAElB,OAAO,CAAC,mBAAmB,CAACA,OAAO,CAAC,qBAAqB,CACzF,GAAImB,QAAO,CAAIjB,KAAK,CAACgB,MAAM,GAAG,CAAC,CAAE,mBAAmB,CAAC,iBAAiB,CACtE,GAAIE,MAAK,CAAIlB,KAAK,CAACgB,MAAM,GAAG,CAAC,CAAE,aAAa,CAAC,OAAO,CACpD,cAAyBnB,QAAQ,CAACoB,OAAO,CAAC,wCAAnCE,KAAK,eAACC,QAAQ,eACrB,eAAqBvB,QAAQ,CAACqB,KAAK,CAAC,yCAA7BG,GAAG,eAACC,MAAM,eACjB,eAA+BzB,QAAQ,CAAC,EAAE,CAAC,yCAApC0B,QAAQ,eAACC,WAAW,eAC3B,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACxBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAMC,KAAI,CAAG,CACT,OAAO,CAAET,KAAK,CACd,KAAK,CAAEE,GACX,CAAC,CACD;AACAQ,KAAK,CACDd,IAAI,CACJ,CACIe,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEzB,IAAI,CAACC,SAAS,CAACoB,IAAI,CAC7B,CAAC,CACJ,CACIK,IAAI,CAAC,SAACV,QAAQ,QAAKA,SAAQ,CAACK,IAAI,EAAE,GAAC,CACnCK,IAAI,CAAC,SAACC,GAAG,CAAK,CACX;AACA,GAAIA,GAAG,CAACC,KAAK,GAAG,IAAI,CAAC,CACjBX,WAAW,CAACU,GAAG,CAACC,KAAK,CAAC,CAC1B,CAAC,IAAI,CACDpC,QAAQ,CAACmC,GAAG,CAACE,IAAI,CAAC,CACtB;AACA,CACJ,CAAC,CAAC,CACDC,KAAK,CAAC,SAACF,KAAK,CAAK,CACdG,OAAO,CAACH,KAAK,CAACA,KAAK,CAAC,CACpB;AACJ,CAAC,CAAC,CACV,CAAC,CACD,mBACI,sCACI,YAAK,SAAS,CAAC,SAAS,uBACpB,YAAK,SAAS,CAAC,oBAAoB,uBAC/B,YAAK,SAAS,CAAC,eAAe,uBAC1B,cAAM,SAAS,CAAC,6BAA6B,CAAC,QAAQ,CAAEV,YAAa,wBACxF,aAAM,SAAS,CAAC,4BAA4B,UAAC,SAE7C,EAAO,cACgB,aAAM,SAAS,CAAC,4BAA4B,uBAClE,UAAG,SAAS,CAAC,gBAAgB,EAAK,EAC5B,cAEgB,aAAK,SAAS,CAAC,8BAA8B,CAAC,gBAAc,uBAAuB,wBAC/E,cAAO,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAEN,KAAM,CAC5D,QAAQ,CAAE,kBAACoB,KAAK,QAAKnB,SAAQ,CAACmB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAC3D,aAAM,SAAS,CAAC,gBAAgB,CAAC,mBAAiB,EAAE,EAAQ,GAC1D,cAEN,aAAK,SAAS,CAAC,8BAA8B,CAAC,gBAAc,gBAAgB,wBAClG,aAAM,SAAS,CAAC,eAAe,uBAC9B,UAAG,SAAS,CAAC,eAAe,EAAK,EAC3B,cACmB,cAAO,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAEpB,GAAI,CAC3D,QAAQ,CAAE,kBAACkB,KAAK,QAAKjB,OAAM,CAACiB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cACzD,aAAM,SAAS,CAAC,gBAAgB,CAAC,mBAAiB,EAAE,EAAQ,GAC1D,cACN,WAAI,KAAK,CAAE5B,KAAM,UAAEU,QAAQ,EAAM,cACjC,YAAK,SAAS,CAAC,6BAA6B,uBACxC,aAAK,SAAS,CAAC,wBAAwB,wBACnC,YAAK,SAAS,CAAC,qBAAqB,EAAO,cAC3C,eAAQ,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,UAAC,OAEpD,EAAS,GACP,EACJ,GACH,EACL,EACJ,EACJ,EACP,CAEX,CAIA,cAAeX,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}